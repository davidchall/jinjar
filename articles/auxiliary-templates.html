<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Auxiliary Templates • jinjar</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Auxiliary Templates">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">jinjar</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.3.1.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/template-syntax.html">Template Syntax</a></li>
    <li><a class="dropdown-item" href="../articles/auxiliary-templates.html">Auxiliary Templates</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/davidchall/jinjar/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.svg" class="logo" alt=""><h1>Auxiliary Templates</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/davidchall/jinjar/blob/master/vignettes/auxiliary-templates.Rmd" class="external-link"><code>vignettes/auxiliary-templates.Rmd</code></a></small>
      <div class="d-none name"><code>auxiliary-templates.Rmd</code></div>
    </div>

    
    
<p>As the complexity of your templating project grows, it can be helpful
to refactor common pieces into auxiliary templates so they can be
reused. The <a href="#include"><code>{% include %}</code></a> and <a href="#extends"><code>{% extends %}</code></a> tags support two very
different approaches to this, described below.</p>
<div class="section level2">
<h2 id="loading-auxiliary-templates">Loading Auxiliary Templates<a class="anchor" aria-label="anchor" href="#loading-auxiliary-templates"></a>
</h2>
<p>When your main template makes reference to auxiliary templates,
you’ll need to specify how the templating engine can find these
auxiliary templates. This is achieved using a template loader (see
<code><a href="../reference/loader.html">help("loader")</a></code>).</p>
<p>There are different types of loader, but <code><a href="../reference/loader.html">path_loader()</a></code>
is the most commonly used. This allows you to specify the directory
where auxiliary templates are stored in files.</p>
<p>Imagine you have a main template that uses nested template
inheritance (<code>content</code> inherits from
<code>blog_post.html</code>, which in turns inherits from
<code>base.html</code>). You might store these two auxiliary templates
in a templates directory:</p>
<pre class="shell"><code>/path/to/templates/
|-- base.html
|-- blog_post.html</code></pre>
<p>When rendering the main template, you create the loader object as
part of the engine configuration:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">config</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/jinjar_config.html">jinjar_config</a></span><span class="op">(</span>loader <span class="op">=</span> <span class="fu"><a href="../reference/loader.html">path_loader</a></span><span class="op">(</span><span class="st">"path"</span>, <span class="st">"to"</span>, <span class="st">"templates"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">output</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/render.html">render</a></span><span class="op">(</span><span class="va">content</span>, <span class="op">!</span><span class="op">!</span><span class="op">!</span><span class="va">data</span>, .config <span class="op">=</span> <span class="va">config</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="include">Template Inclusion<a class="anchor" aria-label="anchor" href="#include"></a>
</h2>
<p>The <code>include</code> tag can be used to include an auxiliary
template and return the rendered contents of that file into the main
document. Included templates have access to the same variables as the
main template.</p>
<p>By default, an error is raised if the included template cannot be
found. You can ignore these errors by setting the
<code>ignore_missing_files</code> argument in
<code><a href="../reference/jinjar_config.html">jinjar_config()</a></code>.</p>
<p>As an example, we create an auxiliary file <code>header.html</code>
with contents:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode html"><code class="sourceCode html"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a><span class="dt">&lt;!DOCTYPE</span> html<span class="dt">&gt;</span></span>
<span id="cb3-2"><a href="#cb3-2" tabindex="-1"></a><span class="dt">&lt;</span><span class="kw">html</span><span class="ot"> lang</span><span class="op">=</span><span class="st">"en"</span><span class="dt">&gt;</span></span>
<span id="cb3-3"><a href="#cb3-3" tabindex="-1"></a><span class="dt">&lt;</span><span class="kw">head</span><span class="dt">&gt;</span></span>
<span id="cb3-4"><a href="#cb3-4" tabindex="-1"></a>    <span class="dt">&lt;</span><span class="kw">title</span><span class="dt">&gt;</span>My webpage<span class="dt">&lt;/</span><span class="kw">title</span><span class="dt">&gt;</span></span>
<span id="cb3-5"><a href="#cb3-5" tabindex="-1"></a><span class="dt">&lt;/</span><span class="kw">head</span><span class="dt">&gt;</span></span></code></pre></div>
<p>and an auxiliary file <code>footer.html</code> with contents:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode html"><code class="sourceCode html"><span id="cb4-1"><a href="#cb4-1" tabindex="-1"></a><span class="dt">&lt;/</span><span class="kw">html</span><span class="dt">&gt;</span></span></code></pre></div>
<p>And then the main template is rendered as:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode jinjar html bg-info"><code class="sourceCode html"><span id="cb5-1"><a href="#cb5-1" tabindex="-1"></a>{% include "header.html" %}</span>
<span id="cb5-2"><a href="#cb5-2" tabindex="-1"></a><span class="dt">&lt;</span><span class="kw">body</span><span class="dt">&gt;</span></span>
<span id="cb5-3"><a href="#cb5-3" tabindex="-1"></a>Body</span>
<span id="cb5-4"><a href="#cb5-4" tabindex="-1"></a><span class="dt">&lt;/</span><span class="kw">body</span><span class="dt">&gt;</span></span>
<span id="cb5-5"><a href="#cb5-5" tabindex="-1"></a>{% include "footer.html" %}</span></code></pre></div>
<div class="sourceCode" id="cb6"><pre class="sourceCode html bg-success"><code class="sourceCode html"><span id="cb6-1"><a href="#cb6-1" tabindex="-1"></a><span class="dt">&lt;!DOCTYPE</span> html<span class="dt">&gt;</span></span>
<span id="cb6-2"><a href="#cb6-2" tabindex="-1"></a><span class="dt">&lt;</span><span class="kw">html</span><span class="ot"> lang</span><span class="op">=</span><span class="st">"en"</span><span class="dt">&gt;</span></span>
<span id="cb6-3"><a href="#cb6-3" tabindex="-1"></a><span class="dt">&lt;</span><span class="kw">head</span><span class="dt">&gt;</span></span>
<span id="cb6-4"><a href="#cb6-4" tabindex="-1"></a>    <span class="dt">&lt;</span><span class="kw">title</span><span class="dt">&gt;</span>My webpage<span class="dt">&lt;/</span><span class="kw">title</span><span class="dt">&gt;</span></span>
<span id="cb6-5"><a href="#cb6-5" tabindex="-1"></a><span class="dt">&lt;/</span><span class="kw">head</span><span class="dt">&gt;</span></span>
<span id="cb6-6"><a href="#cb6-6" tabindex="-1"></a></span>
<span id="cb6-7"><a href="#cb6-7" tabindex="-1"></a><span class="dt">&lt;</span><span class="kw">body</span><span class="dt">&gt;</span></span>
<span id="cb6-8"><a href="#cb6-8" tabindex="-1"></a>Body</span>
<span id="cb6-9"><a href="#cb6-9" tabindex="-1"></a><span class="dt">&lt;/</span><span class="kw">body</span><span class="dt">&gt;</span></span>
<span id="cb6-10"><a href="#cb6-10" tabindex="-1"></a><span class="dt">&lt;/</span><span class="kw">html</span><span class="dt">&gt;</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="extends">Template Inheritance<a class="anchor" aria-label="anchor" href="#extends"></a>
</h2>
<p>Template inheritance allows you to build a base “skeleton” template
that contains all the common elements of your document and defines
<em>blocks</em> that child templates can override. This is a very
powerful technique.</p>
<p>As an example, consider the following base template stored in
<code>base.html</code>:</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode html"><code class="sourceCode html"><span id="cb7-1"><a href="#cb7-1" tabindex="-1"></a><span class="dt">&lt;!DOCTYPE</span> html<span class="dt">&gt;</span></span>
<span id="cb7-2"><a href="#cb7-2" tabindex="-1"></a><span class="dt">&lt;</span><span class="kw">html</span><span class="dt">&gt;</span></span>
<span id="cb7-3"><a href="#cb7-3" tabindex="-1"></a><span class="dt">&lt;</span><span class="kw">head</span><span class="dt">&gt;</span></span>
<span id="cb7-4"><a href="#cb7-4" tabindex="-1"></a>  {% block head -%}</span>
<span id="cb7-5"><a href="#cb7-5" tabindex="-1"></a>  <span class="dt">&lt;</span><span class="kw">link</span><span class="ot"> rel</span><span class="op">=</span><span class="st">"stylesheet"</span><span class="ot"> href</span><span class="op">=</span><span class="st">"style.css"</span><span class="ot"> </span><span class="dt">/&gt;</span></span>
<span id="cb7-6"><a href="#cb7-6" tabindex="-1"></a>  <span class="dt">&lt;</span><span class="kw">title</span><span class="dt">&gt;</span>{% block title %}{% endblock %} - My Webpage<span class="dt">&lt;/</span><span class="kw">title</span><span class="dt">&gt;</span></span>
<span id="cb7-7"><a href="#cb7-7" tabindex="-1"></a>  {% endblock %}</span>
<span id="cb7-8"><a href="#cb7-8" tabindex="-1"></a><span class="dt">&lt;/</span><span class="kw">head</span><span class="dt">&gt;</span></span>
<span id="cb7-9"><a href="#cb7-9" tabindex="-1"></a><span class="dt">&lt;</span><span class="kw">body</span><span class="dt">&gt;</span></span>
<span id="cb7-10"><a href="#cb7-10" tabindex="-1"></a>  <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> id</span><span class="op">=</span><span class="st">"content"</span><span class="dt">&gt;</span>{% block content %}{% endblock %}<span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb7-11"><a href="#cb7-11" tabindex="-1"></a><span class="dt">&lt;/</span><span class="kw">body</span><span class="dt">&gt;</span></span>
<span id="cb7-12"><a href="#cb7-12" tabindex="-1"></a><span class="dt">&lt;/</span><span class="kw">html</span><span class="dt">&gt;</span></span></code></pre></div>
<p>This base template declares three <code>{% block %}</code> tags that
child templates can fill in: <code>head</code>, <code>title</code> and
<code>content</code>. Note that the base template itself defines some
content for the <code>head</code> block – we’ll show how a child
template can use this below.</p>
<p>A child template uses the <code>{% extends %}</code> tag to declare
which parent template it builds upon. This should be the first tag in
the child template, so the templating engine knows it must locate the
parent template when rendering.</p>
<p>Building upon the base template example above, a child template might
look like this:</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode jinjar html bg-info"><code class="sourceCode html"><span id="cb8-1"><a href="#cb8-1" tabindex="-1"></a>{% extends "base.html" %}</span>
<span id="cb8-2"><a href="#cb8-2" tabindex="-1"></a>{% block title %}Index{% endblock %}</span>
<span id="cb8-3"><a href="#cb8-3" tabindex="-1"></a>{% block head %}</span>
<span id="cb8-4"><a href="#cb8-4" tabindex="-1"></a>  {{ super() }}</span>
<span id="cb8-5"><a href="#cb8-5" tabindex="-1"></a>  <span class="dt">&lt;</span><span class="kw">style</span><span class="ot"> type</span><span class="op">=</span><span class="st">"text/css"</span><span class="dt">&gt;</span></span>
<span id="cb8-6"><a href="#cb8-6" tabindex="-1"></a>    <span class="fu">.important</span> { <span class="kw">color</span><span class="ch">:</span> <span class="cn">#336699</span><span class="op">;</span> }</span>
<span id="cb8-7"><a href="#cb8-7" tabindex="-1"></a>  <span class="dt">&lt;/</span><span class="kw">style</span><span class="dt">&gt;</span></span>
<span id="cb8-8"><a href="#cb8-8" tabindex="-1"></a>{% endblock %}</span>
<span id="cb8-9"><a href="#cb8-9" tabindex="-1"></a>{% block content %}</span>
<span id="cb8-10"><a href="#cb8-10" tabindex="-1"></a>  <span class="dt">&lt;</span><span class="kw">h1</span><span class="dt">&gt;</span>Index<span class="dt">&lt;/</span><span class="kw">h1</span><span class="dt">&gt;</span></span>
<span id="cb8-11"><a href="#cb8-11" tabindex="-1"></a>  <span class="dt">&lt;</span><span class="kw">p</span><span class="ot"> class</span><span class="op">=</span><span class="st">"important"</span><span class="dt">&gt;</span></span>
<span id="cb8-12"><a href="#cb8-12" tabindex="-1"></a>    Welcome to my blog!</span>
<span id="cb8-13"><a href="#cb8-13" tabindex="-1"></a>  <span class="dt">&lt;/</span><span class="kw">p</span><span class="dt">&gt;</span></span>
<span id="cb8-14"><a href="#cb8-14" tabindex="-1"></a>{% endblock %}</span></code></pre></div>
<div class="sourceCode" id="cb9"><pre class="sourceCode html bg-success"><code class="sourceCode html"><span id="cb9-1"><a href="#cb9-1" tabindex="-1"></a><span class="dt">&lt;!DOCTYPE</span> html<span class="dt">&gt;</span></span>
<span id="cb9-2"><a href="#cb9-2" tabindex="-1"></a><span class="dt">&lt;</span><span class="kw">html</span><span class="dt">&gt;</span></span>
<span id="cb9-3"><a href="#cb9-3" tabindex="-1"></a><span class="dt">&lt;</span><span class="kw">head</span><span class="dt">&gt;</span></span>
<span id="cb9-4"><a href="#cb9-4" tabindex="-1"></a>  </span>
<span id="cb9-5"><a href="#cb9-5" tabindex="-1"></a>  <span class="dt">&lt;</span><span class="kw">link</span><span class="ot"> rel</span><span class="op">=</span><span class="st">"stylesheet"</span><span class="ot"> href</span><span class="op">=</span><span class="st">"style.css"</span><span class="ot"> </span><span class="dt">/&gt;</span></span>
<span id="cb9-6"><a href="#cb9-6" tabindex="-1"></a>  <span class="dt">&lt;</span><span class="kw">title</span><span class="dt">&gt;</span>Index - My Webpage<span class="dt">&lt;/</span><span class="kw">title</span><span class="dt">&gt;</span></span>
<span id="cb9-7"><a href="#cb9-7" tabindex="-1"></a>  </span>
<span id="cb9-8"><a href="#cb9-8" tabindex="-1"></a>  <span class="dt">&lt;</span><span class="kw">style</span><span class="ot"> type</span><span class="op">=</span><span class="st">"text/css"</span><span class="dt">&gt;</span></span>
<span id="cb9-9"><a href="#cb9-9" tabindex="-1"></a>    <span class="fu">.important</span> { <span class="kw">color</span><span class="ch">:</span> <span class="cn">#336699</span><span class="op">;</span> }</span>
<span id="cb9-10"><a href="#cb9-10" tabindex="-1"></a>  <span class="dt">&lt;/</span><span class="kw">style</span><span class="dt">&gt;</span></span>
<span id="cb9-11"><a href="#cb9-11" tabindex="-1"></a></span>
<span id="cb9-12"><a href="#cb9-12" tabindex="-1"></a><span class="dt">&lt;/</span><span class="kw">head</span><span class="dt">&gt;</span></span>
<span id="cb9-13"><a href="#cb9-13" tabindex="-1"></a><span class="dt">&lt;</span><span class="kw">body</span><span class="dt">&gt;</span></span>
<span id="cb9-14"><a href="#cb9-14" tabindex="-1"></a>  <span class="dt">&lt;</span><span class="kw">div</span><span class="ot"> id</span><span class="op">=</span><span class="st">"content"</span><span class="dt">&gt;</span></span>
<span id="cb9-15"><a href="#cb9-15" tabindex="-1"></a>  <span class="dt">&lt;</span><span class="kw">h1</span><span class="dt">&gt;</span>Index<span class="dt">&lt;/</span><span class="kw">h1</span><span class="dt">&gt;</span></span>
<span id="cb9-16"><a href="#cb9-16" tabindex="-1"></a>  <span class="dt">&lt;</span><span class="kw">p</span><span class="ot"> class</span><span class="op">=</span><span class="st">"important"</span><span class="dt">&gt;</span></span>
<span id="cb9-17"><a href="#cb9-17" tabindex="-1"></a>    Welcome to my blog!</span>
<span id="cb9-18"><a href="#cb9-18" tabindex="-1"></a>  <span class="dt">&lt;/</span><span class="kw">p</span><span class="dt">&gt;</span></span>
<span id="cb9-19"><a href="#cb9-19" tabindex="-1"></a><span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb9-20"><a href="#cb9-20" tabindex="-1"></a><span class="dt">&lt;/</span><span class="kw">body</span><span class="dt">&gt;</span></span>
<span id="cb9-21"><a href="#cb9-21" tabindex="-1"></a><span class="dt">&lt;/</span><span class="kw">html</span><span class="dt">&gt;</span></span></code></pre></div>
<p>This child template defines the three blocks declared by the parent
template: <code>head</code>, <code>title</code> and
<code>content</code>. In the case of the <code>head</code> block, it
uses <code>{{ super() }}</code> to render the contents of the
<code>head</code> block defined by the parent template. If we were using
nested <code>extends</code> tags, we could pass an argument to skip
levels in the inheritance tree (e.g. <code>{{ super(2) }}</code>).</p>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by David Hall.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer>
</div>





  </body>
</html>
