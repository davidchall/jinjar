<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Auxiliary Templates • jinjar</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Auxiliary Templates">
<meta property="og:description" content="jinjar">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">jinjar</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.1.1.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/template-syntax.html">Template Syntax</a>
    </li>
    <li>
      <a href="../articles/auxiliary-templates.html">Auxiliary Templates</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/davidchall/jinjar/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="auxiliary-templates_files/accessible-code-block-0.0.1/empty-anchor.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Auxiliary Templates</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/davidchall/jinjar/blob/HEAD/vignettes/auxiliary-templates.Rmd" class="external-link"><code>vignettes/auxiliary-templates.Rmd</code></a></small>
      <div class="hidden name"><code>auxiliary-templates.Rmd</code></div>

    </div>

    
    
<p>As the complexity of your templating project grows, it can be helpful to refactor common pieces into auxiliary templates so they can be reused. The <a href="#include"><code>{% include %}</code></a> and <a href="#extends"><code>{% extends %}</code></a> tags support two very different approaches to this, described below.</p>
<div class="section level2">
<h2 id="loading-auxiliary-templates">Loading Auxiliary Templates<a class="anchor" aria-label="anchor" href="#loading-auxiliary-templates"></a>
</h2>
<p>When your main template makes reference to auxiliary templates, you’ll need to specify how the templating engine can find these auxiliary templates. This is achieved using a template loader (see <code><a href="../reference/loader.html">help("loader")</a></code>).</p>
<p>There are different types of loader, but <code><a href="../reference/loader.html">path_loader()</a></code> is the most commonly used. This allows you to specify the directory where auxiliary templates are stored in files.</p>
<p>Imagine you have a main template that uses nested template inheritance (<code>content</code> inherits from <code>blog_post.html</code>, which in turns inherits from <code>base.html</code>). You might store these two auxiliary templates in a templates directory:</p>
<pre class="shell"><code>/path/to/templates/
|-- base.html
|-- blog_post.html</code></pre>
<p>When rendering the main template, you create the loader object as part of the engine configuration:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">config</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/jinjar_config.html">jinjar_config</a></span><span class="op">(</span>loader <span class="op">=</span> <span class="fu"><a href="../reference/loader.html">path_loader</a></span><span class="op">(</span><span class="st">"path"</span>, <span class="st">"to"</span>, <span class="st">"templates"</span><span class="op">)</span><span class="op">)</span>
<span class="va">output</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/render.html">render</a></span><span class="op">(</span><span class="va">content</span>, <span class="op">!</span><span class="op">!</span><span class="op">!</span><span class="va">data</span>, .config <span class="op">=</span> <span class="va">config</span><span class="op">)</span></code></pre></div>
</div>
<div class="section level2">
<h2 id="include">Template Inclusion<a class="anchor" aria-label="anchor" href="#include"></a>
</h2>
<p>The <code>include</code> tag can be used to include an auxiliary template and return the rendered contents of that file into the main document. Included templates have access to the same variables as the main template.</p>
<p>By default, an error is raised if the included template cannot be found. You can ignore these errors by setting the <code>ignore_missing_files</code> argument in <code><a href="../reference/jinjar_config.html">jinjar_config()</a></code>.</p>
<p>As an example, we create an auxiliary file <code>header.html</code> with contents:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode html"><code class="sourceCode html"><span id="cb3-1"><a href="#cb3-1"></a><span class="dt">&lt;!DOCTYPE </span>html<span class="dt">&gt;</span></span>
<span id="cb3-2"><a href="#cb3-2"></a><span class="kw">&lt;html</span><span class="ot"> lang=</span><span class="st">"en"</span><span class="kw">&gt;</span></span>
<span id="cb3-3"><a href="#cb3-3"></a><span class="kw">&lt;head&gt;</span></span>
<span id="cb3-4"><a href="#cb3-4"></a>    <span class="kw">&lt;title&gt;</span>My webpage<span class="kw">&lt;/title&gt;</span></span>
<span id="cb3-5"><a href="#cb3-5"></a><span class="kw">&lt;/head&gt;</span></span></code></pre></div>
<p>and an auxiliary file <code>footer.html</code> with contents:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode html"><code class="sourceCode html"><span id="cb4-1"><a href="#cb4-1"></a><span class="kw">&lt;/html&gt;</span></span></code></pre></div>
<p>And then the main template is rendered as:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode jinjar html bg-info"><code class="sourceCode html"><span id="cb5-1"><a href="#cb5-1"></a>{% include "header.html" %}</span>
<span id="cb5-2"><a href="#cb5-2"></a><span class="kw">&lt;body&gt;</span></span>
<span id="cb5-3"><a href="#cb5-3"></a>Body</span>
<span id="cb5-4"><a href="#cb5-4"></a><span class="kw">&lt;/body&gt;</span></span>
<span id="cb5-5"><a href="#cb5-5"></a>{% include "footer.html" %}</span></code></pre></div>
<div class="sourceCode" id="cb6"><pre class="sourceCode html bg-success"><code class="sourceCode html"><span id="cb6-1"><a href="#cb6-1"></a><span class="dt">&lt;!DOCTYPE </span>html<span class="dt">&gt;</span></span>
<span id="cb6-2"><a href="#cb6-2"></a><span class="kw">&lt;html</span><span class="ot"> lang=</span><span class="st">"en"</span><span class="kw">&gt;</span></span>
<span id="cb6-3"><a href="#cb6-3"></a><span class="kw">&lt;head&gt;</span></span>
<span id="cb6-4"><a href="#cb6-4"></a>    <span class="kw">&lt;title&gt;</span>My webpage<span class="kw">&lt;/title&gt;</span></span>
<span id="cb6-5"><a href="#cb6-5"></a><span class="kw">&lt;/head&gt;</span></span>
<span id="cb6-6"><a href="#cb6-6"></a></span>
<span id="cb6-7"><a href="#cb6-7"></a><span class="kw">&lt;body&gt;</span></span>
<span id="cb6-8"><a href="#cb6-8"></a>Body</span>
<span id="cb6-9"><a href="#cb6-9"></a><span class="kw">&lt;/body&gt;</span></span>
<span id="cb6-10"><a href="#cb6-10"></a><span class="kw">&lt;/html&gt;</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="extends">Template Inheritance<a class="anchor" aria-label="anchor" href="#extends"></a>
</h2>
<p>Template inheritance allows you to build a base “skeleton” template that contains all the common elements of your document and defines <em>blocks</em> that child templates can override. This is a very powerful technique.</p>
<p>As an example, consider the following base template stored in <code>base.html</code>:</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode html"><code class="sourceCode html"><span id="cb7-1"><a href="#cb7-1"></a><span class="dt">&lt;!DOCTYPE </span>html<span class="dt">&gt;</span></span>
<span id="cb7-2"><a href="#cb7-2"></a><span class="kw">&lt;html&gt;</span></span>
<span id="cb7-3"><a href="#cb7-3"></a><span class="kw">&lt;head&gt;</span></span>
<span id="cb7-4"><a href="#cb7-4"></a>  {% block head -%}</span>
<span id="cb7-5"><a href="#cb7-5"></a>  <span class="kw">&lt;link</span><span class="ot"> rel=</span><span class="st">"stylesheet"</span><span class="ot"> href=</span><span class="st">"style.css"</span> <span class="kw">/&gt;</span></span>
<span id="cb7-6"><a href="#cb7-6"></a>  <span class="kw">&lt;title&gt;</span>{% block title %}{% endblock %} - My Webpage<span class="kw">&lt;/title&gt;</span></span>
<span id="cb7-7"><a href="#cb7-7"></a>  {% endblock %}</span>
<span id="cb7-8"><a href="#cb7-8"></a><span class="kw">&lt;/head&gt;</span></span>
<span id="cb7-9"><a href="#cb7-9"></a><span class="kw">&lt;body&gt;</span></span>
<span id="cb7-10"><a href="#cb7-10"></a>  <span class="kw">&lt;div</span><span class="ot"> id=</span><span class="st">"content"</span><span class="kw">&gt;</span>{% block content %}{% endblock %}<span class="kw">&lt;/div&gt;</span></span>
<span id="cb7-11"><a href="#cb7-11"></a><span class="kw">&lt;/body&gt;</span></span>
<span id="cb7-12"><a href="#cb7-12"></a><span class="kw">&lt;/html&gt;</span></span></code></pre></div>
<p>This base template declares three <code>{% block %}</code> tags that child templates can fill in: <code>head</code>, <code>title</code> and <code>content</code>. Note that the base template itself defines some content for the <code>head</code> block – we’ll show how a child template can use this below.</p>
<p>A child template uses the <code>{% extends %}</code> tag to declare which parent template it builds upon. This should be the first tag in the child template, so the templating engine knows it must locate the parent template when rendering.</p>
<p>Building upon the base template example above, a child template might look like this:</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode jinjar html bg-info"><code class="sourceCode html"><span id="cb8-1"><a href="#cb8-1"></a>{% extends "base.html" %}</span>
<span id="cb8-2"><a href="#cb8-2"></a>{% block title %}Index{% endblock %}</span>
<span id="cb8-3"><a href="#cb8-3"></a>{% block head %}</span>
<span id="cb8-4"><a href="#cb8-4"></a>  {{ super() }}</span>
<span id="cb8-5"><a href="#cb8-5"></a>  <span class="kw">&lt;style</span><span class="ot"> type=</span><span class="st">"text/css"</span><span class="kw">&gt;</span></span>
<span id="cb8-6"><a href="#cb8-6"></a>    <span class="fu">.important</span> { <span class="kw">color</span>: <span class="cn">#336699</span><span class="op">;</span> }</span>
<span id="cb8-7"><a href="#cb8-7"></a>  <span class="kw">&lt;/style&gt;</span></span>
<span id="cb8-8"><a href="#cb8-8"></a>{% endblock %}</span>
<span id="cb8-9"><a href="#cb8-9"></a>{% block content %}</span>
<span id="cb8-10"><a href="#cb8-10"></a>  <span class="kw">&lt;h1&gt;</span>Index<span class="kw">&lt;/h1&gt;</span></span>
<span id="cb8-11"><a href="#cb8-11"></a>  <span class="kw">&lt;p</span><span class="ot"> class=</span><span class="st">"important"</span><span class="kw">&gt;</span></span>
<span id="cb8-12"><a href="#cb8-12"></a>    Welcome to my blog!</span>
<span id="cb8-13"><a href="#cb8-13"></a>  <span class="kw">&lt;/p&gt;</span></span>
<span id="cb8-14"><a href="#cb8-14"></a>{% endblock %}</span></code></pre></div>
<div class="sourceCode" id="cb9"><pre class="sourceCode html bg-success"><code class="sourceCode html"><span id="cb9-1"><a href="#cb9-1"></a><span class="dt">&lt;!DOCTYPE </span>html<span class="dt">&gt;</span></span>
<span id="cb9-2"><a href="#cb9-2"></a><span class="kw">&lt;html&gt;</span></span>
<span id="cb9-3"><a href="#cb9-3"></a><span class="kw">&lt;head&gt;</span></span>
<span id="cb9-4"><a href="#cb9-4"></a>  </span>
<span id="cb9-5"><a href="#cb9-5"></a>  <span class="kw">&lt;link</span><span class="ot"> rel=</span><span class="st">"stylesheet"</span><span class="ot"> href=</span><span class="st">"style.css"</span> <span class="kw">/&gt;</span></span>
<span id="cb9-6"><a href="#cb9-6"></a>  <span class="kw">&lt;title&gt;</span>Index - My Webpage<span class="kw">&lt;/title&gt;</span></span>
<span id="cb9-7"><a href="#cb9-7"></a>  </span>
<span id="cb9-8"><a href="#cb9-8"></a>  <span class="kw">&lt;style</span><span class="ot"> type=</span><span class="st">"text/css"</span><span class="kw">&gt;</span></span>
<span id="cb9-9"><a href="#cb9-9"></a>    <span class="fu">.important</span> { <span class="kw">color</span>: <span class="cn">#336699</span><span class="op">;</span> }</span>
<span id="cb9-10"><a href="#cb9-10"></a>  <span class="kw">&lt;/style&gt;</span></span>
<span id="cb9-11"><a href="#cb9-11"></a></span>
<span id="cb9-12"><a href="#cb9-12"></a><span class="kw">&lt;/head&gt;</span></span>
<span id="cb9-13"><a href="#cb9-13"></a><span class="kw">&lt;body&gt;</span></span>
<span id="cb9-14"><a href="#cb9-14"></a>  <span class="kw">&lt;div</span><span class="ot"> id=</span><span class="st">"content"</span><span class="kw">&gt;</span></span>
<span id="cb9-15"><a href="#cb9-15"></a>  <span class="kw">&lt;h1&gt;</span>Index<span class="kw">&lt;/h1&gt;</span></span>
<span id="cb9-16"><a href="#cb9-16"></a>  <span class="kw">&lt;p</span><span class="ot"> class=</span><span class="st">"important"</span><span class="kw">&gt;</span></span>
<span id="cb9-17"><a href="#cb9-17"></a>    Welcome to my blog!</span>
<span id="cb9-18"><a href="#cb9-18"></a>  <span class="kw">&lt;/p&gt;</span></span>
<span id="cb9-19"><a href="#cb9-19"></a><span class="kw">&lt;/div&gt;</span></span>
<span id="cb9-20"><a href="#cb9-20"></a><span class="kw">&lt;/body&gt;</span></span>
<span id="cb9-21"><a href="#cb9-21"></a><span class="kw">&lt;/html&gt;</span></span></code></pre></div>
<p>This child template defines the three blocks declared by the parent template: <code>head</code>, <code>title</code> and <code>content</code>. In the case of the <code>head</code> block, it uses <code>{{ super() }}</code> to render the contents of the <code>head</code> block defined by the parent template. If we were using nested <code>extends</code> tags, we could pass an argument to skip levels in the inheritance tree (e.g. <code>{{ super(2) }}</code>).</p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by David Hall.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.5.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
